<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//uporm.github.io//DTD Mapper 1//EN" "https://uporm.github.io/dtd/uorm-1-mapper.dtd">
<mapper namespace="user">

    <sql id="cols">
            id,
            tenant_id,
            name,
            email,
            passwd,
            is_owner AS owner,
            description,
            create_at,
            update_at
    </sql>

    <insert id="insert">
        INSERT INTO user (id, tenant_id, name, email, passwd, is_owner, description, create_at, update_at)
        VALUES (#{id}, #{tenant_id}, #{name}, #{email}, #{passwd}, #{owner}, #{description}, NOW(), NOW())
    </insert>

    <select id="list">
        SELECT
        <include refid="cols"/>
        FROM user
        WHERE tenant_id = #{tenant_id}
    </select>

    <select id="get">
        SELECT
        <include refid="cols"/>
        FROM user
        WHERE email = #{email}
        AND passwd = #{passwd}
    </select>
</mapper>
